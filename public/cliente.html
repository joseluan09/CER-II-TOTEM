<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8" />
  <title>Totem - Gerar Senha</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <h1>Gerar Senha</h1>
  <button onclick="gerarSenha('N')">Senha Normal</button>
  <button onclick="gerarSenha('P')">Senha Preferencial</button>
  <p id="ultimaSenha"></p>

  <script>
    async function gerarSenha(tipo) {
      try {
        const res = await fetch('/api/senha', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ tipo })
        });

        const data = await res.json();
        document.getElementById('ultimaSenha').innerText = `Senha gerada: ${data.senha}`;
      } catch (err) {
        console.error('Erro ao gerar senha:', err);
        document.getElementById('ultimaSenha').innerText = 'Erro ao gerar senha';
      }
    }
  </script>

</body>

</html>
